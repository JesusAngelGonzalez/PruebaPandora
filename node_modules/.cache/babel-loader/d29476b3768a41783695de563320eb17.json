{"ast":null,"code":"import React from 'react';\nimport { Cookie } from '../utils';\nimport { history } from '../utils';\n\nclass Redirection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.update = props.updateParent;\n    this.state = history.location.state; //if (this.state === null) this.state = {logout: false};\n  }\n\n  componentDidMount() {\n    let ck = Cookie.get();\n\n    if (ck === null) {\n      this.update({\n        user: null\n      });\n      history.push('/home');\n    } else {\n      if (this.state === null) history.push('/home');\n\n      if (this.state.logout) {\n        Cookie.clear();\n        this.update({\n          user: null\n        });\n        history.push('/home');\n      } else {\n        history.push('/welcome');\n      }\n    }\n  }\n\n  render() {\n    return null;\n  }\n\n}\n\nexport default Redirection;","map":{"version":3,"sources":["/home/jesus/PS3/PruebaPandora/src/components/Redirection.js"],"names":["React","Cookie","history","Redirection","Component","constructor","props","update","updateParent","state","location","componentDidMount","ck","get","user","push","logout","clear","render"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,UAArB;AACA,SAASC,OAAT,QAAwB,UAAxB;;AAEA,MAAMC,WAAN,SAA0BH,KAAK,CAACI,SAAhC,CAA0C;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,MAAL,GAAcD,KAAK,CAACE,YAApB;AACA,SAAKC,KAAL,GAAaP,OAAO,CAACQ,QAAR,CAAiBD,KAA9B,CAHgB,CAIhB;AACD;;AAEDE,EAAAA,iBAAiB,GAAE;AACjB,QAAIC,EAAE,GAAGX,MAAM,CAACY,GAAP,EAAT;;AACA,QAAID,EAAE,KAAK,IAAX,EAAgB;AACd,WAAKL,MAAL,CAAY;AAACO,QAAAA,IAAI,EAAE;AAAP,OAAZ;AACAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,OAAb;AACD,KAHD,MAGO;AACL,UAAI,KAAKN,KAAL,KAAe,IAAnB,EAAyBP,OAAO,CAACa,IAAR,CAAa,OAAb;;AACzB,UAAI,KAAKN,KAAL,CAAWO,MAAf,EAAsB;AACpBf,QAAAA,MAAM,CAACgB,KAAP;AACA,aAAKV,MAAL,CAAY;AAACO,UAAAA,IAAI,EAAE;AAAP,SAAZ;AACAZ,QAAAA,OAAO,CAACa,IAAR,CAAa,OAAb;AACD,OAJD,MAIO;AACLb,QAAAA,OAAO,CAACa,IAAR,CAAa,UAAb;AACD;AACF;AACF;;AAEDG,EAAAA,MAAM,GAAE;AACN,WAAO,IAAP;AACD;;AA3BuC;;AA8B1C,eAAgBf,WAAhB","sourcesContent":["import React from 'react';\nimport {Cookie} from '../utils';\nimport { history } from '../utils';\n\nclass Redirection extends React.Component {\n  constructor(props){\n    super(props);\n    this.update = props.updateParent;\n    this.state = history.location.state;\n    //if (this.state === null) this.state = {logout: false};\n  }\n\n  componentDidMount(){\n    let ck = Cookie.get();\n    if (ck === null){\n      this.update({user: null});\n      history.push('/home');\n    } else {\n      if (this.state === null) history.push('/home');\n      if (this.state.logout){\n        Cookie.clear();\n        this.update({user: null});\n        history.push('/home');\n      } else {\n        history.push('/welcome');\n      }\n    }\n  }\n\n  render(){\n    return null;\n  }\n}\n\nexport default (Redirection);\n"]},"metadata":{},"sourceType":"module"}